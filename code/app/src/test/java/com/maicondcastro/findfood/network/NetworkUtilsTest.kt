package com.maicondcastro.findfood.network

import org.hamcrest.MatcherAssert.assertThat
import org.hamcrest.core.Is.`is`
import org.json.JSONObject
import org.junit.Test

class NetworkUtilsTest {
    @Test
    fun parsePlacesJsonResult_success() {
        val json = JSONObject(MOCK_PLACE_RESULT)
        val places = parsePlacesJsonResult(json)
        assertThat(places.isEmpty(), `is`(false))
    }

    companion object {
        const val MOCK_PLACE_RESULT = "{   \"html_attributions\" : [],   \"next_page_token\" : \"ATtYBwJL3lNtx-Uloiqpl4gyGK7bJhaa7G_bbddrMGA_8RNbedRzqgcwdEH3nfFidsKMSiTWa9vLXSqLQ6hBgI3UW-WHLkup1O-Ax3mNrrOtChVxTMmB973G67jMn5ykLaNVi-e2Av1hOnG-_iDoKanLjkD0qQH5WjjtmVMjHjlYIINjmJW8N-FnZIanVj9xPd-Hcyvw3n97V9gv8bhqE6eqh7ehMJ7ZQ805dEE0TBG_NXmGmTAxoyFH9Ol_0NPkNfvX04WIzzTHzz9IEE3JZybAL7LTziNOaB1FBvHNyyW0alerA6ZLvFX26csb0lqTXGPC-97hZ11_u1KcdimGLaJccct9S-0MZTeJ0GbQ_5Bj6dfUVmHn6POlr_pvwsqKgYvIkJ50wMwbI-Ws52TV40oRYm2uNDPr1b4_xS85apxl9Bd9\",   \"results\" : [      {         \"geometry\" : {            \"location\" : {               \"lat\" : -33.8688197,               \"lng\" : 151.2092955            },            \"viewport\" : {               \"northeast\" : {                  \"lat\" : -33.57814094522021,                  \"lng\" : 151.3430209458699               },               \"southwest\" : {                  \"lat\" : -34.11834699888443,                  \"lng\" : 150.5209286026224               }            }         },         \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/geocode-71.png\",         \"name\" : \"Sydney\",         \"photos\" : [            {               \"height\" : 481,               \"html_attributions\" : [                  \"\\u003ca href=\\\"https://maps.google.com/maps/contrib/100711803050263972406\\\"\\u003eJit Karmakar\\u003c/a\\u003e\"               ],               \"photo_reference\" : \"ATtYBwIa54HyC_sC9EayPeMsgfePjdzxMFzwh2olxkJ9VP3doMvRPv4xok4htHyBQEMZzZgq6p_tRKlVf80F82jGOkvaGPCRJ45CjDEOphvUCSmWd6nD6k6D84T-74fprM4rbFYA6svWjkYCH18YFRyQ6Q_Tyrsi8C0oC5NfnICD2FAk9_xN\",               \"width\" : 638            }         ],         \"place_id\" : \"ChIJP3Sa8ziYEmsRUKgyFmh9AQM\",         \"reference\" : \"ChIJP3Sa8ziYEmsRUKgyFmh9AQM\",         \"scope\" : \"GOOGLE\",         \"types\" : [ \"colloquial_area\", \"locality\", \"political\" ],         \"vicinity\" : \"Sydney\"      },      {         \"business_status\" : \"OPERATIONAL\",         \"geometry\" : {            \"location\" : {               \"lat\" : -33.8703727,               \"lng\" : 151.1979217            },            \"viewport\" : {               \"northeast\" : {                  \"lat\" : -33.8693343697085,                  \"lng\" : 151.1991635302915               },               \"southwest\" : {                  \"lat\" : -33.8720323302915,                  \"lng\" : 151.1964655697085               }            }         },         \"icon\" : \"https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png\",         \"name\" : \"ibis Sydney Darling Harbour\",         \"opening_hours\" : {            \"open_now\" : true         },         \"photos\" : [            {               \"height\" : 768,               \"html_attributions\" : [                  \"\\u003ca href=\\\"https://maps.google.com/maps/contrib/117979886491291086792\\\"\\u003eibis Sydney Darling Harbour\\u003c/a\\u003e\"               ],               \"photo_reference\" : \"ATtYBwL0o4spYSNS_wgH6r2Ia8AccBTgHaw8un3pAkK5zOcczWaM4Qw35mUgoSinYhu81cv2EMQEhIQSC0m_RKj_xnE4fZY38oszh6onrC1s3ytLbnKTgTRty-6VNlbLN7WjX7oNGPcfjb0MD0x9ov8D0ydJ0i-C1lDMLld4HswoXBW45XEJ\",               \"width\" : 1024            }         ],         \"place_id\" : \"ChIJFfyzTTeuEmsRuMxvFyNRfbk\",         \"plus_code\" : {            \"compound_code\" : \"45HX+V5 Pyrmont NSW, Australia\",            \"global_code\" : \"4RRH45HX+V5\"         },         \"rating\" : 3.9,         \"reference\" : \"ChIJFfyzTTeuEmsRuMxvFyNRfbk\",         \"scope\" : \"GOOGLE\",         \"types\" : [ \"lodging\", \"point_of_interest\", \"establishment\" ],         \"user_ratings_total\" : 1801,         \"vicinity\" : \"Darling Harbour, 70 Murray Street, Pyrmont\"      }]}"
    }
}